{"version":3,"sources":["webpack:///./src/components/RegisterMember.vue?a5d5","webpack:///src/components/RegisterMember.vue","webpack:///./src/components/RegisterMember.vue?c05f","webpack:///./src/components/RegisterMember.vue","webpack:///./node_modules/core-js/modules/es6.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticStyle","width","max-width","margin-top","attrs","label-position","labelPosition","label-width","model","rules","align","label","prop","value","callback","$$v","$set","expression","type","on","click","$event","submitForm","_v","_s","buttonLabel","staticRenderFns","isvalidPhone","str","reg","test","isValidName","nameReg","validPhone","rule","Error","validName","RegisterMembervue_type_script_lang_js_","name","data","phone","recommend","required","trigger","validator","methods","doRegister","that","instance","axios_default","a","create","headers","content-type","withCredentials","post","Server","api","member","register","lib_default","stringify","then","response","code","Object","element_ui_common","showClose","message","msg","duration","catch","error","console","log","formName","$refs","validate","valid","components_RegisterMembervue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","dP","__webpack_require__","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e"],"mappings":"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","file":"js/chunk-dc4a866e.9582c31f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"model\",staticStyle:{\"width\":\"80%\",\"max-width\":\"500px\",\"margin-top\":\"30px\"},attrs:{\"label-position\":_vm.labelPosition,\"label-width\":\"80px\",\"model\":_vm.model,\"rules\":_vm.rules,\"align\":\"center\"}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.model.name),callback:function ($$v) {_vm.$set(_vm.model, \"name\", $$v)},expression:\"model.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"phone\"}},[_c('el-input',{model:{value:(_vm.model.phone),callback:function ($$v) {_vm.$set(_vm.model, \"phone\", $$v)},expression:\"model.phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"推荐人\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.model.recommend),callback:function ($$v) {_vm.$set(_vm.model, \"recommend\", $$v)},expression:\"model.recommend\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('model')}}},[_vm._v(_vm._s(_vm.buttonLabel))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<el-form ref=\"model\" :label-position=\"labelPosition\" label-width=\"80px\" :model=\"model\" :rules=\"rules\" align=\"center\" style=\"width: 80%; max-width: 500px; margin-top: 30px\">\n\t\t  <el-form-item label=\"姓名\" prop=\"name\">\n\t\t    <el-input v-model=\"model.name\" ></el-input>\n\t\t  </el-form-item>\n\t\t  <el-form-item label=\"电话\" prop=\"phone\">\n\t\t    <el-input v-model=\"model.phone\" ></el-input>\n\t\t  </el-form-item>\n\t\t  <el-form-item label=\"推荐人\" prop=\"name\">\n\t\t    <el-input v-model=\"model.recommend\" ></el-input>\n\t\t  </el-form-item>\n\t\t  <el-form-item >\n        \t<el-button type=\"primary\" @click=\"submitForm('model')\">{{buttonLabel}}</el-button>\n      \t\t</el-form-item>\n\t\t</el-form>\n</template>\n<script type=\"text/javascript\">\n\timport axios from \"axios\";\n\timport qs from 'qs';\n\timport {Message} from 'element-ui';\n\n\tfunction isvalidPhone(str) {\n  \t\tconst reg = /^1[3|4|5|7|8][0-9]\\d{8}$/\n  \t\treturn reg.test(str)\n\t}\n\n\tfunction isValidName(str) {\n\t\tconst nameReg = /^[\\u4E00-\\u9FA5]{2,4}$/;\n\t\treturn nameReg.test(str);\n\t}\n\n\tvar validPhone=(rule, value,callback)=>{\n      if (!value){\n          callback(new Error('请输入电话号码'))\n      }else  if (!isvalidPhone(value)){\n        callback(new Error('请输入正确的11位手机号码'))\n      }else {\n          callback()\n      }\n  \t}\n\n  \tvar validName = (rule, value, callback) => {\n\t\tif (!value){\n          \tcallback(new Error('请输入姓名'))\n      \t} else  if (!isValidName(value)){\n      \t  \tcallback(new Error('请输入长度为2~4的中文姓名'))\n      \t} else {\n          \tcallback()\n      \t}\n  \t}\n\n\texport default {\n\t\tname: 'RegisterMember',\n\t    data() {\n\t      return {\n\t        labelPosition: 'right',\n\t        buttonLabel: '注册会员',\n\t        model: {\n\t          name: '',\n\t          phone: '',\n\t          recommend: '',\n\t\t\t},\n\t        rules: {\n\t        \tname: [{ required: true, trigger: 'blur', validator: validName }] /*{required: true, message: '请输入名称', trigger: 'blur'}, {min: 2, max: 10, message: '长度在2到10个字符', trigger: 'blur'}]*/,\n\t        \tphone: [{ required: true, trigger: 'blur', validator: validPhone }],\n\n\t        }\n\t      }\n\t    },\n\n\t    methods: {\n\n\t    \tdoRegister() {\t\t\t\n\t    \t\t//alert(this.model.name);\n\t\t            //alert('submit!');//这里就是符合规则，然后去调对应的接口\n\t\t            let that = this;\n\t\t            let instance = axios.create({\n\t\t  \t\t\t\theaders: { 'content-type': 'application/x-www-form-urlencoded' },\n\t\t  \t\t\t\twithCredentials: true});\n\t\t\t  \t\tinstance.post(this.Server.api.member.register,\n\t\t\t  \t\t\tqs.stringify({ name: this.model.name, phone: this.model.phone, recommend: this.model.recommend }))\n\t\t\t  \t\t.then(function (response) {\n\t\t\t  \t\t\tif (response.data.code == 200) {\n\t\t\t  \t\t\t\t//alert(response.data.msg);\n\t\t\t  \t\t\t\t//window.location = 'http://localhost:8080/#/manager?username=' + that.username\n\t\t\t  \t\t\t\t//alert(response.data.last_login_time);\n\t\t\t  \t\t\t\tMessage({\n\t\t\t  \t\t\t\t\tshowClose: true,\n\t\t\t  \t\t\t\t\tmessage: response.data.msg, \n\t\t\t  \t\t\t\t\ttype: 'success',\n\t\t\t  \t\t\t\t\tduration: 1000\n\t\t\t  \t\t\t\t});\n\t\t\t  \t\t\t\tthat.model.name = '';\n\t\t\t  \t\t\t\tthat.model.phone = '';\n\t\t\t  \t\t\t\tthat.model.recommend = '';\n\t\t\t  \t\t\t\tthat.$set(that, 'model', that.model);\n\t\t\t  \t\t\t} else {\n\t\t\t  \t\t\t\t//alert(response.data.msg);\n\t\t\t  \t\t\t\tMessage({\n\t\t\t  \t\t\t\t\tshowClose: true,\n\t\t\t  \t\t\t\t\tmessage: response.data.msg, \n\t\t\t  \t\t\t\t\ttype: 'error',\n\t\t\t  \t\t\t\t\tduration: 1000\n\t\t\t  \t\t\t\t});\n\t\t\t  \t\t\t}\n\t\t\t  \t\t}).catch(function (error) {\n\t\t\t                //eslint-disable-next-line\n\t\t\t                console.log(error);\n\t\t\t                //alert('error');\n\t\t\t        });\n\t\t\t          \n\t    \t},\n\n\t    \tsubmitForm(formName) {\n\t    \t\tlet that = this;\n\t        \tthis.$refs[formName].validate((valid) => {\n\t\t          if (valid) {\n\t\t          \tthat.doRegister();\t\t          \t\n\t\t          } else {\n\t\t            console.log('error submit!!');\n\t\t            return false;\n\t\t          }\n\t        \t});\n\t      \t}\n\t    }\n\t}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterMember.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterMember.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RegisterMember.vue?vue&type=template&id=50e9f00e&\"\nimport script from \"./RegisterMember.vue?vue&type=script&lang=js&\"\nexport * from \"./RegisterMember.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"RegisterMember.vue\"\nexport default component.exports","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n"],"sourceRoot":""}